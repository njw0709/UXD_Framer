{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/app.coffee","app/modules/sticky-headers/StickyHeaders.coffee"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","var Current_Time, Current_x, Pillsavail, Pillscheduled, Pillsnotavail, Pillsxpos, Pillsypos, StickyHeaders, Timewindow, i, index, scroll;\n\nStickyHeaders = require(\"sticky-headers/StickyHeaders\").StickyHeaders;\n\nscroll = new ScrollComponent({\n  size: Screen.size,\n  scrollHorizontal: false,\n  speedY: 0.6\n});\n\nCalendar.parent = scroll.content;\n\nTime_pacman.parent = scroll.content;\n\nscroll.scrollToLayer(Time_pacman);\n\nCurrentTimeline.states = {\n  Now: {\n    borderColor: \"rgba(34,34,34,0.23)\",\n    opacity: 1.00,\n    backgroundColor: \"rgba(0,0,0,1)\"\n  },\n  future: {\n    borderWidth: 3,\n    borderColor: \"rgba(34,34,34,0.23)\",\n    opacity: 0.5\n  }\n};\n\nCurrentTime.states = {\n  Now: {\n    opacity: 1.00,\n    backgroundColor: \"rgba(247,248,255,0)\"\n  },\n  future: {\n    opacity: 0.50\n  }\n};\n\nTime_pacman.name = \"StickyHeader\";\n\nStickyHeaders.enableFor(scroll);\n\nCurrent_x = Time_pacman.x;\n\nCurrent_Time = Time_pacman.y;\n\nscroll.onMove(function() {\n  if (Time_pacman.y > Current_Time) {\n    CurrentTimeline.states.switchInstant(\"future\");\n    CurrentTime.states.switchInstant(\"future\");\n    return Uparrow.animate({\n      opacity: 0.6,\n      options: {\n        time: 0.1\n      }\n    });\n  } else {\n    CurrentTimeline.states.switchInstant(\"Now\");\n    CurrentTime.states.switchInstant(\"Now\");\n    return Uparrow.animate({\n      opacity: 0,\n      options: {\n        time: 0\n      }\n    });\n  }\n});\n\nPacman.draggable.enabled = true;\n\nPacman.draggable.speedX = 1;\n\nPacman.draggable.speedY = 1;\n\nPacman.draggable.overdrag = false;\n\nPacman.draggable.bounce = false;\n\nPacman.draggable.momentum = false;\n\nPillsavail = [Pill2, Pill3, Pill4];\n\nPillsnotavail = [Pill1, Pill5];\n\nfor (index = i = 0; i <= 1; index = ++i) {\n  Pillsnotavail[index].states = {\n    cannottake: {\n      opacity: 0.75\n    },\n    \"default\": {\n      opacity: 1\n    }\n  };\n}\n\nPillsxpos = [];\n\nPillsypos = [];\n\nPacman.on(Events.DragStart, function() {\n  var j, k, results;\n  scroll.scrollVertical = false;\n  for (index = j = 0; j <= 1; index = ++j) {\n    Pillsnotavail[index].states.switchInstant(\"cannottake\");\n  }\n  results = [];\n  for (index = k = 0; k <= 2; index = ++k) {\n    Pillsxpos.push(Pillsavail[index].x);\n    Pillsypos.push(Pillsavail[index].y);\n    results.push(Pillsavail[index].animate({\n      x: 90,\n      y: scroll.scrollY + 100 + index * 60,\n      options: {\n        time: 0.5\n      }\n    }));\n  }\n  return results;\n});\n\nPacman.on(Events.DragEnd, function() {\n  var j, k;\n  for (index = j = 0; j <= 1; index = ++j) {\n    Pillsnotavail[index].states.switchInstant(\"default\");\n  }\n  for (index = k = 0; k <= 2; index = ++k) {\n    Pillsavail[index].animate({\n      x: Pillsxpos[index],\n      y: Pillsypos[index],\n      options: {\n        curve: Spring({\n          damping: 0.5\n        }),\n        time: 0.5\n      }\n    });\n  }\n  this.animate({\n    x: 311,\n    y: 21,\n    options: {\n      curve: Spring({\n        damping: 0.5\n      }),\n      time: 0.5\n    }\n  });\n  return scroll.scrollVertical = true;\n});\n\nPillscheduled = [Pill2, Pill3, Pill4, Pill5];\n\nTimewindow = [300, 400, 200, 100];\n\nTimerail.states = {\n  \"default\": {\n    opacity: 0\n  },\n  appear: {\n    opacity: 1\n  }\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21udC9kL2Rldi9PbGluL1VYRC9wcm90b3R5cGUuZnJhbWVyL2FwcC9hcHAuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL21udC9kL2Rldi9PbGluL1VYRC9wcm90b3R5cGUuZnJhbWVyL2FwcC9hcHAuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQUMsZ0JBQWlCLE9BQUEsQ0FBUSw4QkFBUjs7QUFFbEIsTUFBQSxHQUFTLElBQUksZUFBSixDQUNSO0VBQUEsSUFBQSxFQUFNLE1BQU0sQ0FBQyxJQUFiO0VBQ0EsZ0JBQUEsRUFBa0IsS0FEbEI7RUFFQSxNQUFBLEVBQU8sR0FGUDtDQURROztBQUtULFFBQVEsQ0FBQyxNQUFULEdBQWdCLE1BQU0sQ0FBQzs7QUFDdkIsV0FBVyxDQUFDLE1BQVosR0FBbUIsTUFBTSxDQUFDOztBQUUxQixNQUFNLENBQUMsYUFBUCxDQUFxQixXQUFyQjs7QUFHQSxlQUFlLENBQUMsTUFBaEIsR0FDQztFQUFBLEdBQUEsRUFDQztJQUFBLFdBQUEsRUFBYSxxQkFBYjtJQUNBLE9BQUEsRUFBUyxJQURUO0lBRUEsZUFBQSxFQUFpQixlQUZqQjtHQUREO0VBSUEsTUFBQSxFQUNDO0lBQUEsV0FBQSxFQUFhLENBQWI7SUFDQSxXQUFBLEVBQWEscUJBRGI7SUFFQSxPQUFBLEVBQVMsR0FGVDtHQUxEOzs7QUFTRCxXQUFXLENBQUMsTUFBWixHQUNDO0VBQUEsR0FBQSxFQUNDO0lBQUEsT0FBQSxFQUFTLElBQVQ7SUFDQSxlQUFBLEVBQWlCLHFCQURqQjtHQUREO0VBR0EsTUFBQSxFQUNDO0lBQUEsT0FBQSxFQUFTLElBQVQ7R0FKRDs7O0FBUUQsV0FBVyxDQUFDLElBQVosR0FBaUI7O0FBR2pCLGFBQWEsQ0FBQyxTQUFkLENBQXdCLE1BQXhCOztBQUdBLFNBQUEsR0FBVSxXQUFXLENBQUM7O0FBQ3RCLFlBQUEsR0FBYSxXQUFXLENBQUM7O0FBRXpCLE1BQU0sQ0FBQyxNQUFQLENBQWMs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\n","\n/*\nStickyHeaders for Framer\nBy @72mena\n */\nexports.StickyHeaders = (function() {\n  function StickyHeaders() {}\n\n  StickyHeaders.enableFor = function(scrollComponent, topMargin) {\n    var dataSH, header, j, len, stickyHeaders;\n    dataSH = [];\n    if (topMargin == null) {\n      topMargin = 0;\n    }\n    stickyHeaders = scrollComponent.content.childrenWithName(\"StickyHeader\");\n    if (stickyHeaders.length > 0) {\n      for (j = 0, len = stickyHeaders.length; j < len; j++) {\n        header = stickyHeaders[j];\n        dataSH.push(header.y);\n      }\n      return scrollComponent.content.on(\"change:y\", function() {\n        var currentY, i, k, len1, prevMaxY, prevStickyPosition, results;\n        results = [];\n        for (i = k = 0, len1 = stickyHeaders.length; k < len1; i = ++k) {\n          header = stickyHeaders[i];\n          header.y = dataSH[i];\n          currentY = dataSH[i] - scrollComponent.scrollY;\n          if (i > 0) {\n            prevStickyPosition = dataSH[i] - stickyHeaders[i - 1].height;\n            prevMaxY = stickyHeaders[i - 1].height + topMargin;\n            if (currentY < prevMaxY) {\n              stickyHeaders[i - 1].y = prevStickyPosition;\n            }\n          }\n          if (currentY <= topMargin) {\n            results.push(header.y = scrollComponent.scrollY + topMargin);\n          } else {\n            results.push(void 0);\n          }\n        }\n        return results;\n      });\n    }\n  };\n\n  return StickyHeaders;\n\n})();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL21udC9kL2Rldi9PbGluL1VYRC9wcm90b3R5cGUuZnJhbWVyL2FwcC9tb2R1bGVzL3N0aWNreS1oZWFkZXJzL1N0aWNreUhlYWRlcnMuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL21udC9kL2Rldi9PbGluL1VYRC9wcm90b3R5cGUuZnJhbWVyL2FwcC9tb2R1bGVzL3N0aWNreS1oZWFkZXJzL1N0aWNreUhlYWRlcnMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7OztBQUlNLE9BQU8sQ0FBQzs7O0VBRWIsYUFBQyxDQUFBLFNBQUQsR0FBWSxTQUFDLGVBQUQsRUFBa0IsU0FBbEI7QUFFWCxRQUFBO0lBQUEsTUFBQSxHQUFTOztNQUNULFlBQWE7O0lBR2IsYUFBQSxHQUFnQixlQUFlLENBQUMsT0FBTyxDQUFDLGdCQUF4QixDQUF5QyxjQUF6QztJQUNoQixJQUFHLGFBQWEsQ0FBQyxNQUFkLEdBQXVCLENBQTFCO0FBQ0MsV0FBQSwrQ0FBQTs7UUFDQyxNQUFNLENBQUMsSUFBUCxDQUFZLE1BQU0sQ0FBQyxDQUFuQjtBQUREO2FBSUEsZUFBZSxDQUFDLE9BQU8sQ0FBQyxFQUF4QixDQUEyQixVQUEzQixFQUF1QyxTQUFBO0FBQ3RDLFlBQUE7QUFBQTthQUFBLHlEQUFBOztVQUNDLE1BQU0sQ0FBQyxDQUFQLEdBQVcsTUFBTyxDQUFBLENBQUE7VUFDbEIsUUFBQSxHQUFXLE1BQU8sQ0FBQSxDQUFBLENBQVAsR0FBWSxlQUFlLENBQUM7VUFFdkMsSUFBRyxDQUFBLEdBQUksQ0FBUDtZQUNDLGtCQUFBLEdBQXFCLE1BQU8sQ0FBQSxDQUFBLENBQVAsR0FBWSxhQUFjLENBQUEsQ0FBQSxHQUFFLENBQUYsQ0FBSSxDQUFDO1lBQ3BELFFBQUEsR0FBVyxhQUFjLENBQUEsQ0FBQSxHQUFFLENBQUYsQ0FBSSxDQUFDLE1BQW5CLEdBQTRCO1lBRXZDLElBQUcsUUFBQSxHQUFXLFFBQWQ7Y0FDQyxhQUFjLENBQUEsQ0FBQSxHQUFFLENBQUYsQ0FBSSxDQUFDLENBQW5CLEdBQXVCLG1CQUR4QjthQUpEOztVQU9BLElBQUcsUUFBQSxJQUFZLFNBQWY7eUJBQ0MsTUFBTSxDQUFDLENBQVAsR0FBVyxlQUFlLENBQUMsT0FBaEIsR0FBMEIsV0FEdEM7V0FBQSxNQUFBO2lDQUFBOztBQVhEOztNQURzQyxDQUF2QyxFQUxEOztFQVBXIn0=\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYXBwLmNvZmZlZSIsImFwcC9tb2R1bGVzL3N0aWNreS1oZWFkZXJzL1N0aWNreUhlYWRlcnMuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNyS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBDdXJyZW50X1RpbWUsIEN1cnJlbnRfeCwgUGlsbHNhdmFpbCwgUGlsbHNjaGVkdWxlZCwgUGlsbHNub3RhdmFpbCwgUGlsbHN4cG9zLCBQaWxsc3lwb3MsIFN0aWNreUhlYWRlcnMsIFRpbWV3aW5kb3csIGksIGluZGV4LCBzY3JvbGw7XG5cblN0aWNreUhlYWRlcnMgPSByZXF1aXJlKFwic3RpY2t5LWhlYWRlcnMvU3RpY2t5SGVhZGVyc1wiKS5TdGlja3lIZWFkZXJzO1xuXG5zY3JvbGwgPSBuZXcgU2Nyb2xsQ29tcG9uZW50KHtcbiAgc2l6ZTogU2NyZWVuLnNpemUsXG4gIHNjcm9sbEhvcml6b250YWw6IGZhbHNlLFxuICBzcGVlZFk6IDAuNlxufSk7XG5cbkNhbGVuZGFyLnBhcmVudCA9IHNjcm9sbC5jb250ZW50O1xuXG5UaW1lX3BhY21hbi5wYXJlbnQgPSBzY3JvbGwuY29udGVudDtcblxuc2Nyb2xsLnNjcm9sbFRvTGF5ZXIoVGltZV9wYWNtYW4pO1xuXG5DdXJyZW50VGltZWxpbmUuc3RhdGVzID0ge1xuICBOb3c6IHtcbiAgICBib3JkZXJDb2xvcjogXCJyZ2JhKDM0LDM0LDM0LDAuMjMpXCIsXG4gICAgb3BhY2l0eTogMS4wMCxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLDAsMCwxKVwiXG4gIH0sXG4gIGZ1dHVyZToge1xuICAgIGJvcmRlcldpZHRoOiAzLFxuICAgIGJvcmRlckNvbG9yOiBcInJnYmEoMzQsMzQsMzQsMC4yMylcIixcbiAgICBvcGFjaXR5OiAwLjVcbiAgfVxufTtcblxuQ3VycmVudFRpbWUuc3RhdGVzID0ge1xuICBOb3c6IHtcbiAgICBvcGFjaXR5OiAxLjAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDI0NywyNDgsMjU1LDApXCJcbiAgfSxcbiAgZnV0dXJlOiB7XG4gICAgb3BhY2l0eTogMC41MFxuICB9XG59O1xuXG5UaW1lX3BhY21hbi5uYW1lID0gXCJTdGlja3lIZWFkZXJcIjtcblxuU3RpY2t5SGVhZGVycy5lbmFibGVGb3Ioc2Nyb2xsKTtcblxuQ3VycmVudF94ID0gVGltZV9wYWNtYW4ueDtcblxuQ3VycmVudF9UaW1lID0gVGltZV9wYWNtYW4ueTtcblxuc2Nyb2xsLm9uTW92ZShmdW5jdGlvbigpIHtcbiAgaWYgKFRpbWVfcGFjbWFuLnkgPiBDdXJyZW50X1RpbWUpIHtcbiAgICBDdXJyZW50VGltZWxpbmUuc3RhdGVzLnN3aXRjaEluc3RhbnQoXCJmdXR1cmVcIik7XG4gICAgQ3VycmVudFRpbWUuc3RhdGVzLnN3aXRjaEluc3RhbnQoXCJmdXR1cmVcIik7XG4gICAgcmV0dXJuIFVwYXJyb3cuYW5pbWF0ZSh7XG4gICAgICBvcGFjaXR5OiAwLjYsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHRpbWU6IDAuMVxuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIEN1cnJlbnRUaW1lbGluZS5zdGF0ZXMuc3dpdGNoSW5zdGFudChcIk5vd1wiKTtcbiAgICBDdXJyZW50VGltZS5zdGF0ZXMuc3dpdGNoSW5zdGFudChcIk5vd1wiKTtcbiAgICByZXR1cm4gVXBhcnJvdy5hbmltYXRlKHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHRpbWU6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cblBhY21hbi5kcmFnZ2FibGUuZW5hYmxlZCA9IHRydWU7XG5cblBhY21hbi5kcmFnZ2FibGUuc3BlZWRYID0gMTtcblxuUGFjbWFuLmRyYWdnYWJsZS5zcGVlZFkgPSAxO1xuXG5QYWNtYW4uZHJhZ2dhYmxlLm92ZXJkcmFnID0gZmFsc2U7XG5cblBhY21hbi5kcmFnZ2FibGUuYm91bmNlID0gZmFsc2U7XG5cblBhY21hbi5kcmFnZ2FibGUubW9tZW50dW0gPSBmYWxzZTtcblxuUGlsbHNhdmFpbCA9IFtQaWxsMiwgUGlsbDMsIFBpbGw0XTtcblxuUGlsbHNub3RhdmFpbCA9IFtQaWxsMSwgUGlsbDVdO1xuXG5mb3IgKGluZGV4ID0gaSA9IDA7IGkgPD0gMTsgaW5kZXggPSArK2kpIHtcbiAgUGlsbHNub3RhdmFpbFtpbmRleF0uc3RhdGVzID0ge1xuICAgIGNhbm5vdHRha2U6IHtcbiAgICAgIG9wYWNpdHk6IDAuNzVcbiAgICB9LFxuICAgIFwiZGVmYXVsdFwiOiB7XG4gICAgICBvcGFjaXR5OiAxXG4gICAgfVxuICB9O1xufVxuXG5QaWxsc3hwb3MgPSBbXTtcblxuUGlsbHN5cG9zID0gW107XG5cblBhY21hbi5vbihFdmVudHMuRHJhZ1N0YXJ0LCBmdW5jdGlvbigpIHtcbiAgdmFyIGosIGssIHJlc3VsdHM7XG4gIHNjcm9sbC5zY3JvbGxWZXJ0aWNhbCA9IGZhbHNlO1xuICBmb3IgKGluZGV4ID0gaiA9IDA7IGogPD0gMTsgaW5kZXggPSArK2opIHtcbiAgICBQaWxsc25vdGF2YWlsW2luZGV4XS5zdGF0ZXMuc3dpdGNoSW5zdGFudChcImNhbm5vdHRha2VcIik7XG4gIH1cbiAgcmVzdWx0cyA9IFtdO1xuICBmb3IgKGluZGV4ID0gayA9IDA7IGsgPD0gMjsgaW5kZXggPSArK2spIHtcbiAgICBQaWxsc3hwb3MucHVzaChQaWxsc2F2YWlsW2luZGV4XS54KTtcbiAgICBQaWxsc3lwb3MucHVzaChQaWxsc2F2YWlsW2luZGV4XS55KTtcbiAgICByZXN1bHRzLnB1c2goUGlsbHNhdmFpbFtpbmRleF0uYW5pbWF0ZSh7XG4gICAgICB4OiA5MCxcbiAgICAgIHk6IHNjcm9sbC5zY3JvbGxZICsgMTAwICsgaW5kZXggKiA2MCxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgdGltZTogMC41XG4gICAgICB9XG4gICAgfSkpO1xuICB9XG4gIHJldHVybiByZXN1bHRzO1xufSk7XG5cblBhY21hbi5vbihFdmVudHMuRHJhZ0VuZCwgZnVuY3Rpb24oKSB7XG4gIHZhciBqLCBrO1xuICBmb3IgKGluZGV4ID0gaiA9IDA7IGogPD0gMTsgaW5kZXggPSArK2opIHtcbiAgICBQaWxsc25vdGF2YWlsW2luZGV4XS5zdGF0ZXMuc3dpdGNoSW5zdGFudChcImRlZmF1bHRcIik7XG4gIH1cbiAgZm9yIChpbmRleCA9IGsgPSAwOyBrIDw9IDI7IGluZGV4ID0gKytrKSB7XG4gICAgUGlsbHNhdmFpbFtpbmRleF0uYW5pbWF0ZSh7XG4gICAgICB4OiBQaWxsc3hwb3NbaW5kZXhdLFxuICAgICAgeTogUGlsbHN5cG9zW2luZGV4XSxcbiAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgY3VydmU6IFNwcmluZyh7XG4gICAgICAgICAgZGFtcGluZzogMC41XG4gICAgICAgIH0pLFxuICAgICAgICB0aW1lOiAwLjVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB0aGlzLmFuaW1hdGUoe1xuICAgIHg6IDMxMSxcbiAgICB5OiAyMSxcbiAgICBvcHRpb25zOiB7XG4gICAgICBjdXJ2ZTogU3ByaW5nKHtcbiAgICAgICAgZGFtcGluZzogMC41XG4gICAgICB9KSxcbiAgICAgIHRpbWU6IDAuNVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBzY3JvbGwuc2Nyb2xsVmVydGljYWwgPSB0cnVlO1xufSk7XG5cblBpbGxzY2hlZHVsZWQgPSBbUGlsbDIsIFBpbGwzLCBQaWxsNCwgUGlsbDVdO1xuXG5UaW1ld2luZG93ID0gWzMwMCwgNDAwLCAyMDAsIDEwMF07XG5cblRpbWVyYWlsLnN0YXRlcyA9IHtcbiAgXCJkZWZhdWx0XCI6IHtcbiAgICBvcGFjaXR5OiAwXG4gIH0sXG4gIGFwcGVhcjoge1xuICAgIG9wYWNpdHk6IDFcbiAgfVxufTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pTDIxdWRDOWtMMlJsZGk5UGJHbHVMMVZZUkM5d2NtOTBiM1I1Y0dVdVpuSmhiV1Z5TDJGd2NDOWhjSEF1WTI5bVptVmxJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTWlPbHNpTDIxdWRDOWtMMlJsZGk5UGJHbHVMMVZZUkM5d2NtOTBiM1I1Y0dVdVpuSmhiV1Z5TDJGd2NDOWhjSEF1WTI5bVptVmxJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCTEVsQlFVRTdPMEZCUVVNc1owSkJRV2xDTEU5QlFVRXNRMEZCVVN3NFFrRkJVanM3UVVGRmJFSXNUVUZCUVN4SFFVRlRMRWxCUVVrc1pVRkJTaXhEUVVOU08wVkJRVUVzU1VGQlFTeEZRVUZOTEUxQlFVMHNRMEZCUXl4SlFVRmlPMFZCUTBFc1owSkJRVUVzUlVGQmEwSXNTMEZFYkVJN1JVRkZRU3hOUVVGQkxFVkJRVThzUjBGR1VEdERRVVJST3p0QlFVdFVMRkZCUVZFc1EwRkJReXhOUVVGVUxFZEJRV2RDTEUxQlFVMHNRMEZCUXpzN1FVRkRka0lzVjBGQlZ5eERRVUZETEUxQlFWb3NSMEZCYlVJc1RVRkJUU3hEUVVGRE96dEJRVVV4UWl4TlFVRk5MRU5CUVVNc1lVRkJVQ3hEUVVGeFFpeFhRVUZ5UWpzN1FVRkhRU3hsUVVGbExFTkJRVU1zVFVGQmFFSXNSMEZEUXp0RlFVRkJMRWRCUVVFc1JVRkRRenRKUVVGQkxGZEJRVUVzUlVGQllTeHhRa0ZCWWp0SlFVTkJMRTlCUVVFc1JVRkJVeXhKUVVSVU8wbEJSVUVzWlVGQlFTeEZRVUZwUWl4bFFVWnFRanRIUVVSRU8wVkJTVUVzVFVGQlFTeEZRVU5ETzBsQlFVRXNWMEZCUVN4RlFVRmhMRU5CUVdJN1NVRkRRU3hYUVVGQkxFVkJRV0VzY1VKQlJHSTdTVUZGUVN4UFFVRkJMRVZCUVZNc1IwRkdWRHRIUVV4RU96czdRVUZUUkN4WFFVRlhMRU5CUVVNc1RVRkJXaXhIUVVORE8wVkJRVUVzUjBGQlFTeEZRVU5ETzBsQlFVRXNUMEZCUVN4RlFVRlRMRWxCUVZRN1NVRkRRU3hsUVVGQkxFVkJRV2xDTEhGQ1FVUnFRanRIUVVSRU8wVkJSMEVzVFVGQlFTeEZRVU5ETzBsQlFVRXNUMEZCUVN4RlFVRlRMRWxCUVZRN1IwRktSRHM3TzBGQlVVUXNWMEZCVnl4RFFVRkRMRWxCUVZvc1IwRkJhVUk3TzBGQlIycENMR0ZCUVdFc1EwRkJReXhUUVVGa0xFTkJRWGRDTEUxQlFYaENPenRCUVVkQkxGTkJRVUVzUjBGQlZTeFhRVUZYTEVOQlFVTTdPMEZCUTNSQ0xGbEJRVUVzUjBGQllTeFhRVUZYTEVOQlFVTTdPMEZCUlhwQ0xFMUJRVTBzUTBGQlF5eE5RVUZRTEVOQlFXTXNVMEZCUVR0RlFVTmlMRWxCUVVjc1YwRkJWeXhEUVVGRExFTkJRVm9zUjBGQlowSXNXVUZCYmtJN1NVRkRReXhsUVVGbExFTkJRVU1zVFVGQlRTeERRVUZETEdGQlFYWkNMRU5CUVhGRExGRkJRWEpETzBsQlEwRXNWMEZCVnl4RFFVRkRMRTFCUVUwc1EwRkJReXhoUVVGdVFpeERRVUZwUXl4UlFVRnFRenRYUVVOQkxFOUJRVThzUTBGQlF5eFBRVUZTTEVOQlEwTTdUVUZCUVN4UFFVRkJMRVZCUVZNc1IwRkJWRHROUVVOQkxFOUJRVUVzUlVGRFF6dFJRVUZCTEVsQlFVRXNSVUZCVFN4SFFVRk9PMDlCUmtRN1MwRkVSQ3hGUVVoRU8wZEJRVUVzVFVGQlFUdEpRVkZETEdWQlFXVXNRMEZCUXl4TlFVRk5MRU5CUVVNc1lVRkJka0lzUTBGQmNVTXNTMEZCY2tNN1NVRkRRU3hYUVVGWExFTkJRVU1zVFVGQlRTeERRVUZETEdGQlFXNUNMRU5CUVdsRExFdEJRV3BETzFkQlEwRXNUMEZCVHl4RFFVRkRMRTlCUVZJc1EwRkRRenROUVVGQkxFOUJRVUVzUlVGQlV5eERRVUZVTzAxQlEwRXNUMEZCUVN4RlFVTkRPMUZCUVVFc1NVRkJRU3hGUVVGTkxFTkJRVTQ3VDBGR1JEdExRVVJFTEVWQlZrUTdPMEZCUkdFc1EwRkJaRHM3UVVGdlFrRXNUVUZCVFN4RFFVRkRMRk5CUVZNc1EwRkJReXhQUVVGcVFpeEhRVUV5UWpzN1FVRkRNMElzVFVGQlRTeERRVUZETEZOQlFWTXNRMEZCUXl4TlFVRnFRaXhIUVVFd1FqczdRVUZETVVJc1RVRkJUU3hEUVVGRExGTkJRVk1zUTBGQlF5eE5RVUZxUWl4SFFVRXdRanM3UVVGRE1VSXNUVUZCVFN4RFFVRkRMRk5CUVZNc1EwRkJReXhSUVVGcVFpeEhRVUV3UWpzN1FVRkRNVUlzVFVGQlRTeERRVUZETEZOQlFWTXNRMEZCUXl4TlFVRnFRaXhIUVVFd1FqczdRVUZETVVJc1RVRkJUU3hEUVVGRExGTkJRVk1zUTBGQlF5eFJRVUZxUWl4SFFVRXdRanM3UVVGSk1VSXNWVUZCUVN4SFFVRlpMRU5CUVVNc1MwRkJSQ3hGUVVGUExFdEJRVkFzUlVGQllTeExRVUZpT3p0QlFVTmFMR0ZCUVVFc1IwRkJZeXhEUVVGRExFdEJRVVFzUlVGQlR5eExRVUZRT3p0QlFVVmtMRXRCUVdFc2EwTkJRV0k3UlVGRFF5eGhRVUZqTEVOQlFVRXNTMEZCUVN4RFFVRk5MRU5CUVVNc1RVRkJja0lzUjBGRFJUdEpRVUZCTEZWQlFVRXNSVUZEUXp0TlFVRkJMRTlCUVVFc1JVRkJVeXhKUVVGVU8wdEJSRVE3U1VGRlFTeERRVUZCTEU5QlFVRXNRMEZCUVN4RlFVTkRPMDFCUVVFc1QwRkJRU3hGUVVGVExFTkJRVlE3UzBGSVJEczdRVUZHU0RzN1FVRlBRU3hUUVVGQkxFZEJRVlU3TzBGQlExWXNVMEZCUVN4SFFVRlZPenRCUVVWV0xFMUJRVTBzUTBGQlF5eEZRVUZRTEVOQlFWVXNUVUZCVFN4RFFVRkRMRk5CUVdwQ0xFVkJRVFJDTEZOQlFVRTdRVUZETTBJc1RVRkJRVHRGUVVGQkxFMUJRVTBzUTBGQlF5eGpRVUZRTEVkQlFYTkNPMEZCUTNSQ0xFOUJRV0VzYTBOQlFXSTdTVUZEUXl4aFFVRmpMRU5CUVVFc1MwRkJRU3hEUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEdGQlFUVkNMRU5CUVRCRExGbEJRVEZETzBGQlJFUTdRVUZGUVR0UFFVRmhMR3REUVVGaU8wbEJRME1zVTBGQlV5eERRVUZETEVsQlFWWXNRMEZCWlN4VlFVRlhMRU5CUVVFc1MwRkJRU3hEUVVGTkxFTkJRVU1zUTBGQmFrTTdTVUZEUVN4VFFVRlRMRU5CUVVNc1NVRkJWaXhEUVVGbExGVkJRVmNzUTBGQlFTeExRVUZCTEVOQlFVMHNRMEZCUXl4RFFVRnFRenRwUWtGRFFTeFZRVUZYTEVOQlFVRXNTMEZCUVN4RFFVRk5MRU5CUVVNc1QwRkJiRUlzUTBGRFF6dE5RVUZCTEVOQlFVRXNSVUZCUlN4RlFVRkdPMDFCUTBFc1EwRkJRU3hGUVVGRkxFMUJRVTBzUTBGQlF5eFBRVUZRTEVkQlFXVXNSMEZCWml4SFFVRnRRaXhMUVVGQkxFZEJRVTBzUlVGRU0wSTdUVUZGUVN4UFFVRkJMRVZCUTBNN1VVRkJRU3hKUVVGQkxFVkJRVTBzUjBGQlRqdFBRVWhFTzB0QlJFUTdRVUZJUkRzN1FVRktNa0lzUTBGQk5VSTdPMEZCWjBKQkxFMUJRVTBzUTBGQlF5eEZRVUZRTEVOQlFWVXNUVUZCVFN4RFFVRkRMRTlCUVdwQ0xFVkJRVEJDTEZOQlFVRTdRVUZEZWtJc1RVRkJRVHRCUVVGQkxFOUJRV0VzYTBOQlFXSTdTVUZEUXl4aFFVRmpMRU5CUVVFc1MwRkJRU3hEUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEdGQlFUVkNMRU5CUVRCRExGTkJRVEZETzBGQlJFUTdRVUZGUVN4UFFVRmhMR3REUVVGaU8wbEJRME1zVlVGQlZ5eERRVUZCTEV0QlFVRXNRMEZCVFN4RFFVRkRMRTlCUVd4Q0xFTkJRME03VFVGQlFTeERRVUZCTEVWQlFVVXNVMEZCVlN4RFFVRkJMRXRCUVVFc1EwRkJXanROUVVOQkxFTkJRVUVzUlVGQlJTeFRRVUZWTEVOQlFVRXNTMEZCUVN4RFFVUmFPMDFCUlVFc1QwRkJRU3hGUVVORE8xRkJRVUVzUzBGQlFTeEZRVUZQTEUxQlFVRXNRMEZCVHp0VlFVRkJMRTlCUVVFc1JVRkJVeXhIUVVGVU8xTkJRVkFzUTBGQlVEdFJRVU5CTEVsQlFVRXNSVUZCVFN4SFFVUk9PMDlCU0VRN1MwRkVSRHRCUVVSRU8wVkJUMEVzU1VGQlNTeERRVUZETEU5QlFVd3NRMEZEUXp0SlFVRkJMRU5CUVVFc1JVRkJSU3hIUVVGR08wbEJRMEVzUTBGQlFTeEZRVUZGTEVWQlJFWTdTVUZGUVN4UFFVRkJMRVZCUTBNN1RVRkJRU3hMUVVGQkxFVkJRVThzVFVGQlFTeERRVUZQTzFGQlFVRXNUMEZCUVN4RlFVRlRMRWRCUVZRN1QwRkJVQ3hEUVVGUU8wMUJRMEVzU1VGQlFTeEZRVUZMTEVkQlJFdzdTMEZJUkR0SFFVUkVPMU5CVDBFc1RVRkJUU3hEUVVGRExHTkJRVkFzUjBGQmMwSTdRVUZxUWtjc1EwRkJNVUk3TzBGQmIwSkJMR0ZCUVVFc1IwRkJZeXhEUVVGRExFdEJRVVFzUlVGQlR5eExRVUZRTEVWQlFXRXNTMEZCWWl4RlFVRnRRaXhMUVVGdVFqczdRVUZEWkN4VlFVRkJMRWRCUVdFc1EwRkJReXhIUVVGRUxFVkJRVXNzUjBGQlRDeEZRVUZUTEVkQlFWUXNSVUZCWVN4SFFVRmlPenRCUVVOaUxGRkJRVkVzUTBGQlF5eE5RVUZVTEVkQlEwTTdSVUZCUVN4RFFVRkJMRTlCUVVFc1EwRkJRU3hGUVVORE8wbEJRVUVzVDBGQlFTeEZRVUZSTEVOQlFWSTdSMEZFUkR0RlFVVkJMRTFCUVVFc1JVRkRRenRKUVVGQkxFOUJRVUVzUlVGQlVTeERRVUZTTzBkQlNFUWlmUT09XG4iLCJcbi8qXG5TdGlja3lIZWFkZXJzIGZvciBGcmFtZXJcbkJ5IEA3Mm1lbmFcbiAqL1xuZXhwb3J0cy5TdGlja3lIZWFkZXJzID0gKGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBTdGlja3lIZWFkZXJzKCkge31cblxuICBTdGlja3lIZWFkZXJzLmVuYWJsZUZvciA9IGZ1bmN0aW9uKHNjcm9sbENvbXBvbmVudCwgdG9wTWFyZ2luKSB7XG4gICAgdmFyIGRhdGFTSCwgaGVhZGVyLCBqLCBsZW4sIHN0aWNreUhlYWRlcnM7XG4gICAgZGF0YVNIID0gW107XG4gICAgaWYgKHRvcE1hcmdpbiA9PSBudWxsKSB7XG4gICAgICB0b3BNYXJnaW4gPSAwO1xuICAgIH1cbiAgICBzdGlja3lIZWFkZXJzID0gc2Nyb2xsQ29tcG9uZW50LmNvbnRlbnQuY2hpbGRyZW5XaXRoTmFtZShcIlN0aWNreUhlYWRlclwiKTtcbiAgICBpZiAoc3RpY2t5SGVhZGVycy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSBzdGlja3lIZWFkZXJzLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGhlYWRlciA9IHN0aWNreUhlYWRlcnNbal07XG4gICAgICAgIGRhdGFTSC5wdXNoKGhlYWRlci55KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzY3JvbGxDb21wb25lbnQuY29udGVudC5vbihcImNoYW5nZTp5XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY3VycmVudFksIGksIGssIGxlbjEsIHByZXZNYXhZLCBwcmV2U3RpY2t5UG9zaXRpb24sIHJlc3VsdHM7XG4gICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChpID0gayA9IDAsIGxlbjEgPSBzdGlja3lIZWFkZXJzLmxlbmd0aDsgayA8IGxlbjE7IGkgPSArK2spIHtcbiAgICAgICAgICBoZWFkZXIgPSBzdGlja3lIZWFkZXJzW2ldO1xuICAgICAgICAgIGhlYWRlci55ID0gZGF0YVNIW2ldO1xuICAgICAgICAgIGN1cnJlbnRZID0gZGF0YVNIW2ldIC0gc2Nyb2xsQ29tcG9uZW50LnNjcm9sbFk7XG4gICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICBwcmV2U3RpY2t5UG9zaXRpb24gPSBkYXRhU0hbaV0gLSBzdGlja3lIZWFkZXJzW2kgLSAxXS5oZWlnaHQ7XG4gICAgICAgICAgICBwcmV2TWF4WSA9IHN0aWNreUhlYWRlcnNbaSAtIDFdLmhlaWdodCArIHRvcE1hcmdpbjtcbiAgICAgICAgICAgIGlmIChjdXJyZW50WSA8IHByZXZNYXhZKSB7XG4gICAgICAgICAgICAgIHN0aWNreUhlYWRlcnNbaSAtIDFdLnkgPSBwcmV2U3RpY2t5UG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjdXJyZW50WSA8PSB0b3BNYXJnaW4pIHtcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaChoZWFkZXIueSA9IHNjcm9sbENvbXBvbmVudC5zY3JvbGxZICsgdG9wTWFyZ2luKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHZvaWQgMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBTdGlja3lIZWFkZXJzO1xuXG59KSgpO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lMMjF1ZEM5a0wyUmxkaTlQYkdsdUwxVllSQzl3Y205MGIzUjVjR1V1Wm5KaGJXVnlMMkZ3Y0M5dGIyUjFiR1Z6TDNOMGFXTnJlUzFvWldGa1pYSnpMMU4wYVdOcmVVaGxZV1JsY25NdVkyOW1abVZsSWl3aWMyOTFjbU5sVW05dmRDSTZJaUlzSW5OdmRYSmpaWE1pT2xzaUwyMXVkQzlrTDJSbGRpOVBiR2x1TDFWWVJDOXdjbTkwYjNSNWNHVXVabkpoYldWeUwyRndjQzl0YjJSMWJHVnpMM04wYVdOcmVTMW9aV0ZrWlhKekwxTjBhV05yZVVobFlXUmxjbk11WTI5bVptVmxJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdRVUZCUVRzN096dEJRVWxOTEU5QlFVOHNRMEZCUXpzN08wVkJSV0lzWVVGQlF5eERRVUZCTEZOQlFVUXNSMEZCV1N4VFFVRkRMR1ZCUVVRc1JVRkJhMElzVTBGQmJFSTdRVUZGV0N4UlFVRkJPMGxCUVVFc1RVRkJRU3hIUVVGVE96dE5RVU5VTEZsQlFXRTdPMGxCUjJJc1lVRkJRU3hIUVVGblFpeGxRVUZsTEVOQlFVTXNUMEZCVHl4RFFVRkRMR2RDUVVGNFFpeERRVUY1UXl4alFVRjZRenRKUVVOb1FpeEpRVUZITEdGQlFXRXNRMEZCUXl4TlFVRmtMRWRCUVhWQ0xFTkJRVEZDTzBGQlEwTXNWMEZCUVN3clEwRkJRVHM3VVVGRFF5eE5RVUZOTEVOQlFVTXNTVUZCVUN4RFFVRlpMRTFCUVUwc1EwRkJReXhEUVVGdVFqdEJRVVJFTzJGQlNVRXNaVUZCWlN4RFFVRkRMRTlCUVU4c1EwRkJReXhGUVVGNFFpeERRVUV5UWl4VlFVRXpRaXhGUVVGMVF5eFRRVUZCTzBGQlEzUkRMRmxCUVVFN1FVRkJRVHRoUVVGQkxIbEVRVUZCT3p0VlFVTkRMRTFCUVUwc1EwRkJReXhEUVVGUUxFZEJRVmNzVFVGQlR5eERRVUZCTEVOQlFVRTdWVUZEYkVJc1VVRkJRU3hIUVVGWExFMUJRVThzUTBGQlFTeERRVUZCTEVOQlFWQXNSMEZCV1N4bFFVRmxMRU5CUVVNN1ZVRkZka01zU1VGQlJ5eERRVUZCTEVkQlFVa3NRMEZCVUR0WlFVTkRMR3RDUVVGQkxFZEJRWEZDTEUxQlFVOHNRMEZCUVN4RFFVRkJMRU5CUVZBc1IwRkJXU3hoUVVGakxFTkJRVUVzUTBGQlFTeEhRVUZGTEVOQlFVWXNRMEZCU1N4RFFVRkRPMWxCUTNCRUxGRkJRVUVzUjBGQlZ5eGhRVUZqTEVOQlFVRXNRMEZCUVN4SFFVRkZMRU5CUVVZc1EwRkJTU3hEUVVGRExFMUJRVzVDTEVkQlFUUkNPMWxCUlhaRExFbEJRVWNzVVVGQlFTeEhRVUZYTEZGQlFXUTdZMEZEUXl4aFFVRmpMRU5CUVVFc1EwRkJRU3hIUVVGRkxFTkJRVVlzUTBGQlNTeERRVUZETEVOQlFXNUNMRWRCUVhWQ0xHMUNRVVI0UWp0aFFVcEVPenRWUVU5QkxFbEJRVWNzVVVGQlFTeEpRVUZaTEZOQlFXWTdlVUpCUTBNc1RVRkJUU3hEUVVGRExFTkJRVkFzUjBGQlZ5eGxRVUZsTEVOQlFVTXNUMEZCYUVJc1IwRkJNRUlzVjBGRWRFTTdWMEZCUVN4TlFVRkJPMmxEUVVGQk96dEJRVmhFT3p0TlFVUnpReXhEUVVGMlF5eEZRVXhFT3p0RlFWQlhJbjA9XG4iXX0="}